<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 3 Concepts in detail | gapclosing: An R package</title>
<meta name="author" content="Ian Lundberg (ilundberg@cornell.edu)">
<meta name="description" content="This section provides a more detailed overview of the use of gapclosing(). It is structured from the perspective of the three key tasks for the researcher: define the intervention make causal...">
<meta name="generator" content="bookdown 0.33 with bs4_book()">
<meta property="og:title" content="Chapter 3 Concepts in detail | gapclosing: An R package">
<meta property="og:type" content="book">
<meta property="og:url" content="https://ilundberg.github.io/gapclosing/github_doc/index.html/concepts-in-detail.html">
<meta property="og:description" content="This section provides a more detailed overview of the use of gapclosing(). It is structured from the perspective of the three key tasks for the researcher: define the intervention make causal...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 3 Concepts in detail | gapclosing: An R package">
<meta name="twitter:description" content="This section provides a more detailed overview of the use of gapclosing(). It is structured from the perspective of the three key tasks for the researcher: define the intervention make causal...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.4.2/transition.js"></script><script src="libs/bs3compat-0.4.2/tabs.js"></script><script src="libs/bs3compat-0.4.2/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">gapclosing: An R package</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> gapclosing: An R package</a></li>
<li><a class="" href="big-idea.html"><span class="header-section-number">2</span> Big idea</a></li>
<li><a class="active" href="concepts-in-detail.html"><span class="header-section-number">3</span> Concepts in detail</a></li>
<li><a class="" href="machine-learning-examples.html"><span class="header-section-number">4</span> Machine learning examples</a></li>
<li><a class="" href="advanced-treatment-assignments.html"><span class="header-section-number">5</span> Advanced treatment assignments</a></li>
<li><a class="" href="conclusion.html"><span class="header-section-number">6</span> Conclusion</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/rstudio/bookdown-demo">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="concepts-in-detail" class="section level1" number="3">
<h1>
<span class="header-section-number">3</span> Concepts in detail<a class="anchor" aria-label="anchor" href="#concepts-in-detail"><i class="fas fa-link"></i></a>
</h1>
<p>This section provides a more detailed overview of the use of <code><a href="https://rdrr.io/pkg/gapclosing/man/gapclosing.html">gapclosing()</a></code>.</p>
<p>It is structured from the perspective of the three key tasks for the researcher:</p>
<ol style="list-style-type: decimal">
<li>define the intervention</li>
<li>make causal assumptions for identification</li>
<li>specify a treatment and/or outcome model</li>
</ol>
<p>Along the way, this section introduces many of the possible arguments in a <code><a href="https://rdrr.io/pkg/gapclosing/man/gapclosing.html">gapclosing()</a></code> call.</p>
<div id="define-the-intervention" class="section level2" number="3.1">
<h2>
<span class="header-section-number">3.1</span> Define the intervention<a class="anchor" aria-label="anchor" href="#define-the-intervention"><i class="fas fa-link"></i></a>
</h2>
<p>To answer a gap-closing question, we first need to define what that intervention would be. To what treatment value would units be counterfactually assigned? There are several options.</p>
<ul>
<li>
<strong>Option 1.</strong> Set <code>counterfactual_assignments = 0</code> or <code>counterfactual_assignments = 1</code>. In this case, we are studying the disparity we would expect if a random person of each category were assigned control or if assigned treatment (respectively).</li>
<li>
<strong>Option 2.</strong> Set <code>counterfactual_assignments</code> = <span class="math inline">\(\pi\)</span> for some <span class="math inline">\(\pi\)</span> between 0 and 1. In this case, we are studying the disparity we would expect if a random person of each category were assigned to treatment with probability <span class="math inline">\(\pi\)</span> and to control with probability <span class="math inline">\(1 - \pi\)</span>.</li>
<li>
<strong>Option 3.</strong> Assign treatments by a probability <span class="math inline">\(\pi_i\)</span> that may differ for each person <span class="math inline">\(i\)</span>. In this case, we create a vector <span class="math inline">\(\vec\pi\)</span> of length <span class="math inline">\(n\)</span> and pass that in the <code>counterfactual_assignments</code> argument.</li>
</ul>
<blockquote>
<p><em>Example.</em> We are interested in the disparity across populations defined by <code>category</code> that would persist under counterfactual assignment to set <code>treatment</code> to the value 1.
<code>counterfactual_assignments = 1</code></p>
</blockquote>
</div>
<div id="make-causal-assumptions-for-identification" class="section level2" number="3.2">
<h2>
<span class="header-section-number">3.2</span> Make causal assumptions for identification<a class="anchor" aria-label="anchor" href="#make-causal-assumptions-for-identification"><i class="fas fa-link"></i></a>
</h2>
<p>The package does help you with this step. Gap-closing estimands involve unobserved potential outcomes. Because they are unobserved, the data cannot tell us which variables are needed for estimation. Instead, that is a conceptual choice to be carried out with tools like Directed Acyclic Graphs (DAGs). See the accompanying <span class="citation">Lundberg (<a href="references.html#ref-lundberg2021" role="doc-biblioref">2022</a>)</span> paper for more on identification.</p>
<blockquote>
<p><em>Example.</em> Assume that the set of variables <span class="math inline">\(\{X,L\}\)</span> is a sufficient conditioning set to identify the gap-closing estimand. Formally, this requires us to assume that within each stratum of <span class="math inline">\(X\)</span> and <span class="math inline">\(L\)</span> the expected value of the potential outcome <span class="math inline">\(Y(1)\)</span> is the same as the expected value among units who factually have <span class="math inline">\(T = 1\)</span> within those strata.
<span class="math display">\[\mathbb{E}(Y(1)\mid X, L) = \mathbb{E}(Y\mid X, L, T = 1)\]</span>
DAGs are a good way to reason about this assumption: in this example, conditioning (depicted by boxes) on <code>category</code> and <code>confounder</code> is sufficient to identify the causal effect of <code>treatment</code> (blue edge in the DAG), because doing so blocks all backdoor paths between the treatment and the outcome. Notably, the gap-closing estimand makes no claims about the causal effect of <code>category</code> since the counterfactual is defined over <code>treatment</code> only.</p>
</blockquote>
<div class="inline-figure"><img src="github_doc_files/figure-html/unnamed-chunk-18-1.png" width="672"></div>
<p>Once we select a sufficient conditioning set, those predictors will appear in both the treatment and/or the outcome model used for estimation.</p>
</div>
<div id="specify-a-treatment-model-andor-an-outcome-model" class="section level2" number="3.3">
<h2>
<span class="header-section-number">3.3</span> Specify a treatment model and/or an outcome model<a class="anchor" aria-label="anchor" href="#specify-a-treatment-model-andor-an-outcome-model"><i class="fas fa-link"></i></a>
</h2>
<p>We need to estimate one or both of (1) the probability of treatment given confounders and (2) the conditional mean of the outcome given treatment and confounders. We do that by providing one or both of the following.</p>
<ul>
<li>Provide a <code>treatment_formula</code> with the binary treatment variable on the left side and all confounders on the right side. This formula will be used in <code>treatment_algorithm</code> (see next step) to estimate the probability of treatment given confounders for each unit. Then, the sample-average outcome under counterfactual assignment to any given treatment can be estimated through inverse probability weighting among units who factually received that treatment.</li>
</ul>
<blockquote>
<p><em>Example.</em><br><code>treatment_formula = formula(outcome ~ confounder + category)</code></p>
</blockquote>
<ul>
<li>Provide an <code>outcome_formula</code> with the outcome variable on the left side and the treatment and all confounders on the right side. This formula will be used in <code>outcome_algorithm</code> (see next step) to estimate the conditional mean of the outcome given treatment and confounders. Then, it can be used to predict the potential outcome each unit would expect under any treatment of interest, given confounding variables.</li>
</ul>
<blockquote>
<p><em>Example.</em><br><code>outcome_formula = formula(outcome ~ confounder + category*treatment)</code></p>
</blockquote>
<p>Whether <code>treatment_formula</code> or <code>outcome_formula</code> is left <code>NULL</code> will determine the estimation procedure.</p>
<ul>
<li>If only <code>treatment_formula</code> is provided, then estimation will be by inverse probability of treatment weighting.</li>
<li>If only <code>outcome_formula</code> is provided, then estimation will be by prediction of unobserved potential outcomes (the <span class="math inline">\(g\)</span>-formula, see <span class="citation">Hernán and Robins (<a href="references.html#ref-hernan2021" role="doc-biblioref">2021</a>)</span>).</li>
<li>If both <code>treatment_formula</code> and <code>outcome_formula</code> are provided, then the primary estimate will be doubly robust, with separate treatment and outcome modeling estimates accessible through the returned object.</li>
</ul>
<div id="choose-an-estimation-algorithm" class="section level3" number="3.3.1">
<h3>
<span class="header-section-number">3.3.1</span> Choose an estimation algorithm<a class="anchor" aria-label="anchor" href="#choose-an-estimation-algorithm"><i class="fas fa-link"></i></a>
</h3>
<p>The <code>treatment_formula</code> and <code>outcome_formula</code> are handed to <code>treatment_algorithm</code> and <code>outcome_algorithm</code>, which can take the following values.</p>
<ul>
<li>
<code>glm</code> (for <code>treatment_algorithm</code> only): A logistic regression model estimated by the <code>glm</code> function. If there are important interactions among treatment, category, and covariates, these should be included explicitly.</li>
<li>
<code>lm</code> (for <code>outcome_algorithm</code> only): An OLS regression model estimated by the <code>lm</code> function. If there are important interactions among treatment, category, and covariates, these should be included explicitly.</li>
<li>
<code>ridge</code>: A ridge (i.e. L<sub>2</sub>-penalized) logistic regression model (for <code>treatment_algorithm</code>) or linear regression model (for <code>outcome_algorithm</code>) estimated by the <code>glmnet</code> function in the <code>glmnet</code> package <span class="citation">(<a href="references.html#ref-glmnet" role="doc-biblioref">Friedman, Hastie, and Tibshirani 2010</a>)</span>, with <code>alpha = 0</code> to indicate the ridge penalty. Elastic net and lasso regression are not supported because those approaches could regularize some coefficients to exactly zero, and if you have chosen the needed confounders (step 2) then you would not want their coefficients to be regularized to zero. The penalty term is chosen by <code>cv.glmnet</code> and is set to the value <code>lambda.min</code> (see <code>glmnet</code> documentation). If there are important interactions among treatment, category, and covariates, these should be included explicitly.</li>
<li>
<code>gam</code>: A Generalized Additive Model (logistic if used as <code>treatment_algorithm</code>, linear if used as <code>outcome_algorithm</code>) estimated by the <code>gam</code> function in the <code>mgcv</code> package <span class="citation">(<a href="references.html#ref-mgcv" role="doc-biblioref">Wood 2017</a>)</span>. The model formula should be specified as in the <code>mgcv</code> documentation and may include smooth terms <code>s()</code> for continuous covariates. If there are important interactions among treatment, category, and covariates, these should be included explicitly.</li>
<li>
<code>ranger</code>: A random forest estimated by the <code>ranger</code> function in the <code>ranger</code> package <span class="citation">(<a href="references.html#ref-ranger" role="doc-biblioref">Wright and Ziegler 2017</a>)</span>. If used as <code>treatment_algorithm</code>, one forest will be fit and predicted treatment probabilities will be truncated to the [.001,.999] range to avoid extreme inverse probability of treatment weights. If used as <code>outcome_algorithm</code>, the forest will be estimated separately on treated and control units; the treatment variable does not need to be included in <code>outcome_formula</code> in this case.</li>
</ul>
<blockquote>
<p><em>Example.</em><br><code>treatment_algorithm = "glm"</code><br><code>outcome_algorithm = "lm"</code></p>
</blockquote>
<p>If the data are a sample from a population selected with unequal probabilities, you can also use the <code>weight_name</code> option to pass estimation functions the name of the sampling weight (a variable in <code>data</code> proportional to the inverse probability of sample inclusion). If omitted, a simple random sample is assumed.</p>
</div>
<div id="why-doubly-robust-a-side-note" class="section level3" number="3.3.2">
<h3>
<span class="header-section-number">3.3.2</span> Why doubly robust? A side note<a class="anchor" aria-label="anchor" href="#why-doubly-robust-a-side-note"><i class="fas fa-link"></i></a>
</h3>
<p>Doubly-robust estimation yields advantages that can be conceptualized in two ways.</p>
<ul>
<li>From the perspective of parametric models, if either the treatment or the outcome model is correct, then the estimator is consistent <span class="citation">(<a href="references.html#ref-bang2005" role="doc-biblioref">Bang and Robins 2005</a>)</span>. See <span class="citation">Glynn and Quinn (<a href="references.html#ref-glynn2010" role="doc-biblioref">2010</a>)</span> for an accessible introduction.<br>
</li>
<li>From the perspective of machine learning, double robustness adjusts for the fact that outcome modeling alone is optimized for the wrong prediction task. An outcome model would be optimized to predict where we observed data, but our actual task is to predict over a predictor distribution <em>different</em> from that which was observed (because the treatment has been changed). This is an opportunity to improve the predictions. By building a model of treatment, we can reweight the residuals of the outcome model to estimate the average prediction error over the space where we want to make predictions. Subtracting off this bias can improve the outcome modeling estimator. This pivot is at the core of moves toward targeted learning <span class="citation">(<a href="references.html#ref-vanderlaan2011" role="doc-biblioref">Van der Laan and Rose 2011</a>)</span> and double machine learning <span class="citation">(<a href="references.html#ref-chernozhukov2018" role="doc-biblioref">Chernozhukov et al. 2018</a>)</span>, building on a long line of research in efficient estimation <span class="citation">(<a href="references.html#ref-robins1995" role="doc-biblioref">Robins and Rotnitzky 1995</a>; <a href="references.html#ref-hahn1998" role="doc-biblioref">Hahn 1998</a>)</span>.</li>
</ul>
<p>Although double robustness has strong mathematical properties, in any given application with a finite sample it is possible that treatment or outcome modeling could outperform doubly-robust estimation. Therefore, the package supports all three approaches.</p>
</div>
<div id="why-sample-splitting-another-side-note" class="section level3" number="3.3.3">
<h3>
<span class="header-section-number">3.3.3</span> Why sample splitting? Another side note<a class="anchor" aria-label="anchor" href="#why-sample-splitting-another-side-note"><i class="fas fa-link"></i></a>
</h3>
<p>Taking the bias-correction view of double robustness above, it is clear that sample splitting affords a further opportunity for improvement: if you learn an outcome model <em>and</em> estimate its average bias on the same sample, you might get a poor estimate of the bias. For this reason, one should consider using one sample (which I call <code>data_learn</code>) to learn the prediction functions and another sample (which I call <code>data_estimate</code>) to estimate the bias and aggregate to an estimate of the estimand.</p>
<p>In particular, the option <code>sample_split = "cross_fit"</code> allows the user to specify that estimation should proceed by a cross-fitting procedure which is analogous to cross-validation.</p>
<ol style="list-style-type: decimal">
<li>Split the sample into folds <span class="math inline">\(f = 1,\dots,\)</span><code>n_folds</code> (default here is <code>n_folds = 2</code>)<br>
</li>
<li>Use all folds except <span class="math inline">\(f'\)</span> to estimate the treatment and outcome models<br>
</li>
<li>Aggregate to an estimate using the predictions in <span class="math inline">\(f'\)</span><br>
</li>
<li>Average the estimate that results from (2) and (3) repeated <code>n_folds</code> times with each fold playing the role of <span class="math inline">\(f'\)</span> in turn</li>
</ol>
<p>This is the procedure that <span class="citation">Chernozhukov et al. (<a href="references.html#ref-chernozhukov2018" role="doc-biblioref">2018</a>)</span> argue is critical to double machine learning for causal estimation, although this type of sample splitting is not new <span class="citation">(<a href="references.html#ref-bickel1982" role="doc-biblioref">Bickel 1982</a>)</span>.</p>
<p>If <code>sample_split = "cross_fit"</code>, the default is to conduct 2-fold cross-fitting, but this can be changed with the <code>n_folds</code> argument. The user can also specify their own vector <code>folds</code> of fold assignments of length <code>nrow(data)</code>, if there is something about the particular setting that would make a manual fold assignment preferable.</p>
<blockquote>
<p><em>Example.</em> (this is the default and can be left implicit)<br><code>sample_split = "one_sample"</code></p>
</blockquote>
</div>
<div id="produce-standard-errors" class="section level3" number="3.3.4">
<h3>
<span class="header-section-number">3.3.4</span> Produce standard errors<a class="anchor" aria-label="anchor" href="#produce-standard-errors"><i class="fas fa-link"></i></a>
</h3>
<p>The package supports bootstrapped standard error estimation. The procedure with <code>bootstrap_method = "simple"</code> (the default) is valid when the data are a simple random sample from the target population. In this case, each bootstrap iteration conducts estimation on a resampled dataset selected with replacement with equal probabilities. The standard error is calculated as the standard deviation of the estimate across bootstrap samples, and confidence intervals are calculated by a normal approximation.</p>
<blockquote>
<p><em>Example.</em> (line 2 is the default and can be left implicit)<br><code>se = T</code>
<code>bootstrap_samples = 1000</code></p>
</blockquote>
<p>In some settings, the sample size may be small and categories or treatments of interest may be rare. In these cases, it is possible for one or more simple bootstrap samples to contain zero cases in some (treatment <span class="math inline">\(\times\)</span> category) cell of interest. To avoid this problem, <code>bootstrap_method = "stratified"</code> conducts bootstrap resampling within blocks defined by (treatment <span class="math inline">\(\times\)</span> category). This procedure is valid if you assume that the data are selected at random from the population within these strata, so that across repeated samples from the true population the proportion in each stratum would remain the same.</p>
<p>Many samples are not simple random samples. In complex sample settings, users should implement their own standard error procedures to accurately capture sampling variation related to how their data were collected. The way the data were collected could motivate a resampling strategy to mimic the sources of variation in that sampling process, which the user can implement manually by calling <code>gapclosing</code> to calculate a point estimate on each resampled dataset with <code>se = FALSE</code>.</p>

</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="big-idea.html"><span class="header-section-number">2</span> Big idea</a></div>
<div class="next"><a href="machine-learning-examples.html"><span class="header-section-number">4</span> Machine learning examples</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#concepts-in-detail"><span class="header-section-number">3</span> Concepts in detail</a></li>
<li><a class="nav-link" href="#define-the-intervention"><span class="header-section-number">3.1</span> Define the intervention</a></li>
<li><a class="nav-link" href="#make-causal-assumptions-for-identification"><span class="header-section-number">3.2</span> Make causal assumptions for identification</a></li>
<li>
<a class="nav-link" href="#specify-a-treatment-model-andor-an-outcome-model"><span class="header-section-number">3.3</span> Specify a treatment model and/or an outcome model</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#choose-an-estimation-algorithm"><span class="header-section-number">3.3.1</span> Choose an estimation algorithm</a></li>
<li><a class="nav-link" href="#why-doubly-robust-a-side-note"><span class="header-section-number">3.3.2</span> Why doubly robust? A side note</a></li>
<li><a class="nav-link" href="#why-sample-splitting-another-side-note"><span class="header-section-number">3.3.3</span> Why sample splitting? Another side note</a></li>
<li><a class="nav-link" href="#produce-standard-errors"><span class="header-section-number">3.3.4</span> Produce standard errors</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/rstudio/bookdown-demo/blob/master/03-concepts.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/rstudio/bookdown-demo/edit/master/03-concepts.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>gapclosing: An R package</strong>" was written by Ian Lundberg (<a href="mailto:ilundberg@cornell.edu" class="email">ilundberg@cornell.edu</a>). It was last built on 2023-03-08.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
